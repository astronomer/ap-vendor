# Warning: automatically generated file
# Please edit .circleci/config.yml.j2, then run bin/generate_circleci_config.py
---
version: 2.1

orbs:
  python: circleci/python@2.0.3
  path-filtering: circleci/path-filtering@0.1.3

executors:
  docker-executor:
    docker:
      - image: cimg/python:3.9

parameters:
  overwrite_tags:
    type: boolean
    default: false
    description: "Set True if you want to overwrite existing docker image tag."

workflows:
  version: 2.1
  generate-config:
    jobs:
      - run_pre_commit
      - path-filtering/filter:
          base-revision: main
          config-path: .circleci/continue-config.yml
          mapping: |
            alertmanager/.* vendor-build alertmanager << pipeline.parameters.overwrite_tags >>
            auth-sidecar/.* vendor-build auth-sidecar << pipeline.parameters.overwrite_tags >>
            awsesproxy/.* vendor-build awsesproxy << pipeline.parameters.overwrite_tags >>
            blackbox-exporter/.* vendor-build blackbox-exporter << pipeline.parameters.overwrite_tags >>
            configmap-reloader/.* vendor-build configmap-reloader << pipeline.parameters.overwrite_tags >>
            curator/.* vendor-build curator << pipeline.parameters.overwrite_tags >>
            dind-golang/.* vendor-build dind-golang << pipeline.parameters.overwrite_tags >>
            dogstatsd/.* vendor-build dogstatsd << pipeline.parameters.overwrite_tags >>
            elasticsearch/.* vendor-build elasticsearch << pipeline.parameters.overwrite_tags >>
            elasticsearch-exporter/.* vendor-build elasticsearch-exporter << pipeline.parameters.overwrite_tags >>
            fluentd/.* vendor-build fluentd << pipeline.parameters.overwrite_tags >>
            git-daemon/.* vendor-build git-daemon << pipeline.parameters.overwrite_tags >>
            git-sync/.* vendor-build git-sync << pipeline.parameters.overwrite_tags >>
            grafana/.* vendor-build grafana << pipeline.parameters.overwrite_tags >>
            init/.* vendor-build init << pipeline.parameters.overwrite_tags >>
            keda/.* vendor-build keda << pipeline.parameters.overwrite_tags >>
            keda-metrics-apiserver/.* vendor-build keda-metrics-apiserver << pipeline.parameters.overwrite_tags >>
            kibana/.* vendor-build kibana << pipeline.parameters.overwrite_tags >>
            kube-state/.* vendor-build kube-state << pipeline.parameters.overwrite_tags >>
            kubed/.* vendor-build kubed << pipeline.parameters.overwrite_tags >>
            nats-exporter/.* vendor-build nats-exporter << pipeline.parameters.overwrite_tags >>
            nats-server/.* vendor-build nats-server << pipeline.parameters.overwrite_tags >>
            nats-streaming/.* vendor-build nats-streaming << pipeline.parameters.overwrite_tags >>
            nginx/.* vendor-build nginx << pipeline.parameters.overwrite_tags >>
            nginx-es/.* vendor-build nginx-es << pipeline.parameters.overwrite_tags >>
            node-exporter/.* vendor-build node-exporter << pipeline.parameters.overwrite_tags >>
            openresty/.* vendor-build openresty << pipeline.parameters.overwrite_tags >>
            pgbouncer/.* vendor-build pgbouncer << pipeline.parameters.overwrite_tags >>
            pgbouncer-exporter/.* vendor-build pgbouncer-exporter << pipeline.parameters.overwrite_tags >>
            pgbouncer-krb/.* vendor-build pgbouncer-krb << pipeline.parameters.overwrite_tags >>
            po-logical-backup/.* vendor-build po-logical-backup << pipeline.parameters.overwrite_tags >>
            po-pgbouncer/.* vendor-build po-pgbouncer << pipeline.parameters.overwrite_tags >>
            po-spilo/.* vendor-build po-spilo << pipeline.parameters.overwrite_tags >>
            postgres-exporter/.* vendor-build postgres-exporter << pipeline.parameters.overwrite_tags >>
            postgres-operator/.* vendor-build postgres-operator << pipeline.parameters.overwrite_tags >>
            postgresql/.* vendor-build postgresql << pipeline.parameters.overwrite_tags >>
            prometheus/.* vendor-build prometheus << pipeline.parameters.overwrite_tags >>
            redis/.* vendor-build redis << pipeline.parameters.overwrite_tags >>
            registry/.* vendor-build registry << pipeline.parameters.overwrite_tags >>
            statsd-exporter/.* vendor-build statsd-exporter << pipeline.parameters.overwrite_tags >>
            vector/.* vendor-build vector << pipeline.parameters.overwrite_tags >>
